@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  @apply bg-neon-dark text-neon-green overflow-x-hidden;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: #000;
}
::-webkit-scrollbar-thumb {
  background: #003300;
  border: 1px solid #00ff41;
}
::-webkit-scrollbar-thumb:hover {
  background: #00ff41;
}

/* CRT Scanline Effect */
.scanlines {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,0) 50%,
    rgba(0,0,0,0.2) 50%,
    rgba(0,0,0,0.2)
  );
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 50;
}

/* Glitch Effect */
.glitch-wrapper {
  position: relative;
  display: inline-block;
}

.glitch {
  position: relative; 
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #050505;
}

.glitch::before {
  left: 2px;
  text-shadow: -1px 0 #ff00ff;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim 5s infinite linear alternate-reverse;
}

.glitch::after {
  left: -2px;
  text-shadow: -1px 0 #00f3ff;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim2 5s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
  0% { clip: rect(38px, 9999px, 81px, 0); }
  20% { clip: rect(6px, 9999px, 14px, 0); }
  40% { clip: rect(59px, 9999px, 16px, 0); }
  60% { clip: rect(82px, 9999px, 48px, 0); }
  80% { clip: rect(11px, 9999px, 7px, 0); }
  100% { clip: rect(92px, 9999px, 66px, 0); }
}

@keyframes glitch-anim2 {
  0% { clip: rect(18px, 9999px, 91px, 0); }
  20% { clip: rect(66px, 9999px, 5px, 0); }
  40% { clip: rect(21px, 9999px, 86px, 0); }
  60% { clip: rect(4px, 9999px, 33px, 0); }
  80% { clip: rect(98px, 9999px, 55px, 0); }
  100% { clip: rect(31px, 9999px, 22px, 0); }
}

.cursor-blink {
  animation: blink 1s step-end infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.skill-glow {
  box-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41;
  animation: pulse-glow 2s infinite alternate;
}

@keyframes pulse-glow {
  0% { box-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41; }
  100% { box-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41; }
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .scanlines, .glitch::before, .glitch::after, .animate-pulse, .cursor-blink, .skill-glow {
    animation: none !important;
    transition: none !important;
    opacity: 0 !important; /* Hide decorative overlays */
  }
  .glitch {
    text-shadow: none !important;
  }
  .skill-glow {
    box-shadow: none !important;
  }
} 

/* ... existing code ... */

/* FINAL FIX: Combined Scanline Mask & Glitch */
.scanline-text {
  /* 1. The Mask: Cuts 1px lines out of the entire element (text + glitch layers) */
  -webkit-mask-image: repeating-linear-gradient(
    to bottom,
    black 0px,
    black 3px,      /* 3px of visible text */
    transparent 3px, 
    transparent 4px /* 1px gap */
  );
  mask-image: repeating-linear-gradient(
    to bottom,
    black 0px,
    black 3px,
    transparent 3px,
    transparent 4px
  );

  /* 2. Force White Color (matches your image) */
  color: #FFFFFF;
}

/* Ensure the glitch layers are visible and inherit the white color/scanlines */
.scanline-text .glitch::before,
.scanline-text .glitch::after {
  display: block !important; /* Force them back on */
  opacity: 0.7; /* Make glitch layers slightly transparent for a ghostly feel */
}